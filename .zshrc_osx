export PATH="$PATH:$HOME/opt/flutter/bin"
export PATH="$PATH:$HOME/source/dotfiles/bin"

# ls colours
export CLICOLOR=1
export LSCOLORS=GxFxCxDxBxegedabagaced

# Homebrew
eval "$(/opt/homebrew/bin/brew shellenv)"

# antidote
source /opt/homebrew/opt/antidote/share/antidote/antidote.zsh
antidote load

# starship
eval "$(starship init zsh)"

# rbenv
# I don't want to use both rbenv and mise, but I can't get Cursor and RubyLSP to work with mise. So at least this should be lower priority than mise.
eval "$(rbenv init - --no-rehash zsh)"

# mise
eval "$(~/.local/bin/mise activate zsh)"

# atuin
. "$HOME/.atuin/bin/env"
eval "$(atuin init zsh)"

# app aliases and bins
alias vlc='/Applications/VLC.app/Contents/MacOS/VLC'

# iterm2 shell integration
test -e "${HOME}/.iterm2_shell_integration.zsh" && source "${HOME}/.iterm2_shell_integration.zsh" || true

# iterm2 set tab title to the current folder
DISABLE_AUTO_TITLE="true"
tab_title() {
  # echo -ne "\e]1;${PWD##*/}\a"
  echo -ne "\e]1;${PWD/#$HOME/~}\a"
}
autoload -Uz add-zsh-hook
add-zsh-hook precmd tab_title
